{"version":3,"file":"dropdown-desktop.js","sources":["dropdown-desktop.js"],"sourcesContent":["/**\n * Baoba - Dropdown Desktop\n * Arquivo: src/js/dropdown-desktop.js\n */\n\n(function () {\n  \"use strict\";\n\n  const DESKTOP_BREAKPOINT = 991;\n\n  let desktopInstance = null;\n  let resizeTimeout;\n\n  function isDesktop() {\n    return window.innerWidth > DESKTOP_BREAKPOINT;\n  }\n\n  function cleanupDesktopInstance() {\n    if (desktopInstance) {\n      desktopInstance.cleanup();\n      desktopInstance = null;\n    }\n  }\n\n  function createDesktopInstance() {\n    const btn = document.querySelector(\".btn-dropdown\");\n    const dropdown = document.querySelector(\".dropdown_pai\");\n    const header = document.querySelector(\"#js-header\");\n\n    if (!btn || !dropdown) return null;\n\n    const menuItems = dropdown.querySelectorAll(\".dropdown_menu_item\");\n    const mediaItems = dropdown.querySelectorAll(\".dropdown_media_item\");\n\n    return {\n      btn: btn,\n      dropdown: dropdown,\n      header: header,\n      menuItems: menuItems,\n      mediaItems: mediaItems,\n      clickHandler: null,\n      outsideClickHandler: null,\n\n      open: function () {\n        this.dropdown.classList.add(\"active\");\n        this.btn.classList.add(\"active\");\n        if (this.header) this.header.classList.add(\"dropdown-open\");\n      },\n\n      close: function () {\n        this.dropdown.classList.remove(\"active\");\n        this.btn.classList.remove(\"active\");\n        if (this.header) this.header.classList.remove(\"dropdown-open\");\n      },\n\n      toggle: function () {\n        if (this.dropdown.classList.contains(\"active\")) {\n          this.close();\n        } else {\n          this.open();\n        }\n      },\n\n      setup: function () {\n        const self = this;\n\n        // Click handler no botão\n        this.clickHandler = function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          self.toggle();\n        };\n\n        // Outside click handler\n        this.outsideClickHandler = function (e) {\n          if (\n            !e.target.closest(\".btn-dropdown\") &&\n            !e.target.closest(\".dropdown_pai\")\n          ) {\n            self.close();\n          }\n        };\n\n        // Adiciona eventos\n        this.btn.addEventListener(\"click\", this.clickHandler);\n        document.addEventListener(\"click\", this.outsideClickHandler);\n\n        // Hover nos itens do menu\n        this.menuItems.forEach(function (item, index) {\n          item.addEventListener(\"mouseenter\", function () {\n            self.mediaItems.forEach(function (media, i) {\n              media.classList.toggle(\"active\", i === index);\n            });\n            self.menuItems.forEach(function (i) {\n              i.classList.remove(\"active\");\n            });\n            item.classList.add(\"active\");\n          });\n        });\n\n        // Ativa primeiro item por padrão\n        if (this.mediaItems.length > 0)\n          this.mediaItems[0].classList.add(\"active\");\n        if (this.menuItems.length > 0)\n          this.menuItems[0].classList.add(\"active\");\n      },\n\n      cleanup: function () {\n        if (this.clickHandler) {\n          this.btn.removeEventListener(\"click\", this.clickHandler);\n        }\n        if (this.outsideClickHandler) {\n          document.removeEventListener(\"click\", this.outsideClickHandler);\n        }\n        this.close();\n      },\n    };\n  }\n\n  function setupDesktopDropdown() {\n    if (!isDesktop()) {\n      cleanupDesktopInstance();\n      return;\n    }\n\n    cleanupDesktopInstance();\n    desktopInstance = createDesktopInstance();\n\n    if (desktopInstance) {\n      desktopInstance.setup();\n    }\n  }\n\n  function handleResize() {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(setupDesktopDropdown, 250);\n  }\n\n  function init() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", setupDesktopDropdown);\n    } else {\n      setTimeout(setupDesktopDropdown, 100);\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n  }\n\n  init();\n})();\n"],"names":["DESKTOP_BREAKPOINT","desktopInstance","resizeTimeout","cleanupDesktopInstance","cleanup","setupDesktopDropdown","menuItems","mediaItems","btn","dropdown","header","window","innerWidth","document","querySelector","querySelectorAll","clickHandler","outsideClickHandler","open","this","classList","add","close","remove","toggle","contains","setup","self","e","preventDefault","stopPropagation","target","closest","addEventListener","forEach","item","index","media","i","length","removeEventListener","handleResize","clearTimeout","setTimeout","readyState"],"mappings":"CAKA,KAGE,IAAMA,EAAqB,IAEvBC,EAAkB,KAClBC,EAMJ,SAASC,IACHF,IACFA,EAAgBG,QAAQ,EACxBH,EAAkB,KAEtB,CAiGA,SAASI,IACP,IAzFMC,EACAC,EAPAC,EACAC,EACAC,EAbCC,OAAOC,WAAaZ,GA+G3BG,EAAuB,GACvBF,GArGMO,EAAMK,SAASC,cAAc,eAAe,EAC5CL,EAAWI,SAASC,cAAc,eAAe,EACjDJ,EAASG,SAASC,cAAc,YAAY,EAE7CN,GAAQC,GAEPH,EAAYG,EAASM,iBAAiB,qBAAqB,EAC3DR,EAAaE,EAASM,iBAAiB,sBAAsB,EAE5D,CACLP,IAAKA,EACLC,SAAUA,EACVC,OAAQA,EACRJ,UAAWA,EACXC,WAAYA,EACZS,aAAc,KACdC,oBAAqB,KAErBC,KAAM,WACJC,KAAKV,SAASW,UAAUC,IAAI,QAAQ,EACpCF,KAAKX,IAAIY,UAAUC,IAAI,QAAQ,EAC3BF,KAAKT,QAAQS,KAAKT,OAAOU,UAAUC,IAAI,eAAe,CAC5D,EAEAC,MAAO,WACLH,KAAKV,SAASW,UAAUG,OAAO,QAAQ,EACvCJ,KAAKX,IAAIY,UAAUG,OAAO,QAAQ,EAC9BJ,KAAKT,QAAQS,KAAKT,OAAOU,UAAUG,OAAO,eAAe,CAC/D,EAEAC,OAAQ,WACFL,KAAKV,SAASW,UAAUK,SAAS,QAAQ,EAC3CN,KAAKG,MAAM,EAEXH,KAAKD,KAAK,CAEd,EAEAQ,MAAO,WACL,IAAMC,EAAOR,KAGbA,KAAKH,aAAe,SAAUY,GAC5BA,EAAEC,eAAe,EACjBD,EAAEE,gBAAgB,EAClBH,EAAKH,OAAO,CACd,EAGAL,KAAKF,oBAAsB,SAAUW,GAEhCA,EAAEG,OAAOC,QAAQ,eAAe,GAChCJ,EAAEG,OAAOC,QAAQ,eAAe,GAEjCL,EAAKL,MAAM,CAEf,EAGAH,KAAKX,IAAIyB,iBAAiB,QAASd,KAAKH,YAAY,EACpDH,SAASoB,iBAAiB,QAASd,KAAKF,mBAAmB,EAG3DE,KAAKb,UAAU4B,QAAQ,SAAUC,EAAMC,GACrCD,EAAKF,iBAAiB,aAAc,WAClCN,EAAKpB,WAAW2B,QAAQ,SAAUG,EAAOC,GACvCD,EAAMjB,UAAUI,OAAO,SAAUc,IAAMF,CAAK,CAC9C,CAAC,EACDT,EAAKrB,UAAU4B,QAAQ,SAAUI,GAC/BA,EAAElB,UAAUG,OAAO,QAAQ,CAC7B,CAAC,EACDY,EAAKf,UAAUC,IAAI,QAAQ,CAC7B,CAAC,CACH,CAAC,EAG4B,EAAzBF,KAAKZ,WAAWgC,QAClBpB,KAAKZ,WAAW,GAAGa,UAAUC,IAAI,QAAQ,EACf,EAAxBF,KAAKb,UAAUiC,QACjBpB,KAAKb,UAAU,GAAGc,UAAUC,IAAI,QAAQ,CAC5C,EAEAjB,QAAS,WACHe,KAAKH,cACPG,KAAKX,IAAIgC,oBAAoB,QAASrB,KAAKH,YAAY,EAErDG,KAAKF,qBACPJ,SAAS2B,oBAAoB,QAASrB,KAAKF,mBAAmB,EAEhEE,KAAKG,MAAM,CACb,CACF,GAvF8B,QAoG5BrB,EAAgByB,MAAM,GARtBvB,EAAuB,CAU3B,CAEA,SAASsC,IACPC,aAAaxC,CAAa,EAC1BA,EAAgByC,WAAWtC,EAAsB,GAAG,CACtD,CAG8B,YAAxBQ,SAAS+B,WACX/B,SAASoB,iBAAiB,mBAAoB5B,CAAoB,EAElEsC,WAAWtC,EAAsB,GAAG,EAGtCM,OAAOsB,iBAAiB,SAAUQ,CAAY,CAIjD,GAAE"}
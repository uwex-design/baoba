{"version":3,"file":"dropdown-desktop.js","sources":["dropdown-desktop.js"],"sourcesContent":["/**\n * Baoba - Dropdown Desktop (Produção)\n * Otimizado para performance e estabilidade\n */\n\n(function() {\n  'use strict'; \n  \n  const DEV = window.location.hostname === 'localhost' || window.location.search.includes('debug');\n  const DESKTOP_BREAKPOINT = 1024;\n  \n  let resizeTimeout;\n  let dropdownInstance = null;\n  \n  function log(message) {\n    if (DEV) console.log('Baoba:', message);\n  }\n  \n  function isDesktop() {\n    return window.innerWidth > DESKTOP_BREAKPOINT;\n  }\n  \n  function createDropdownInstance() {\n    const dropdownBtn = document.querySelector('.btn-dropdown');\n    const dropdownMenu = document.querySelector('.dropdown-menu');\n    const header = document.querySelector('.header-main');\n    \n    if (!dropdownBtn || !dropdownMenu) {\n      log('Elementos do dropdown desktop não encontrados');\n      return null;\n    }\n    \n    return {\n      btn: dropdownBtn,\n      menu: dropdownMenu,\n      header: header,\n      \n      close: function() {\n        this.menu.classList.remove('active');\n        this.btn.classList.remove('active');\n        if (this.header) {\n          this.header.classList.remove('dropdown-open');\n        }\n      },\n      \n      open: function() {\n        this.menu.classList.add('active');\n        this.btn.classList.add('active');\n        if (this.header) {\n          this.header.classList.add('dropdown-open');\n        }\n      },\n      \n      toggle: function() {\n        if (this.menu.classList.contains('active')) {\n          this.close();\n        } else {\n          this.open();\n        }\n      },\n      \n      setup: function() {\n        const self = this;\n        \n        // Click handler\n        function handleClick(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          self.toggle();\n        }\n        \n        // Mouse leave handlers\n        function handleMenuLeave() {\n          self.close();\n        }\n        \n        function handleBtnLeave() {\n          setTimeout(() => {\n            if (!self.menu.matches(':hover')) {\n              self.close();\n            }\n          }, 100);\n        }\n        \n        // Click outside handler\n        function handleOutsideClick(e) {\n          if (!e.target.closest('.btn-dropdown') && !e.target.closest('.dropdown-menu')) {\n            self.close();\n          }\n        }\n        \n        // Remove existing listeners\n        this.btn.removeEventListener('click', handleClick);\n        this.menu.removeEventListener('mouseleave', handleMenuLeave);\n        this.btn.removeEventListener('mouseleave', handleBtnLeave);\n        document.removeEventListener('click', handleOutsideClick);\n        \n        // Add new listeners\n        this.btn.addEventListener('click', handleClick);\n        this.menu.addEventListener('mouseleave', handleMenuLeave);\n        this.btn.addEventListener('mouseleave', handleBtnLeave);\n        document.addEventListener('click', handleOutsideClick);\n      }\n    };\n  }\n  \n  function initDesktopDropdown() {\n    try {\n      if (!isDesktop()) {\n        if (dropdownInstance) {\n          dropdownInstance.close();\n          dropdownInstance = null;\n        }\n        return;\n      }\n      \n      dropdownInstance = createDropdownInstance();\n      if (dropdownInstance) {\n        dropdownInstance.setup();\n        log('Dropdown desktop inicializado');\n      }\n    } catch (error) {\n      if (DEV) console.error('Erro ao inicializar dropdown desktop:', error);\n    }\n  }\n  \n  // Debounced resize handler\n  function handleResize() {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(initDesktopDropdown, 250);\n  }\n  \n  // Initialize\n  function init() {\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', initDesktopDropdown);\n    } else {\n      initDesktopDropdown();\n    }\n    \n    window.addEventListener('resize', handleResize);\n  }\n  \n  init();\n  \n})();"],"names":["DEV","window","location","hostname","search","includes","DESKTOP_BREAKPOINT","resizeTimeout","dropdownInstance","log","message","console","initDesktopDropdown","innerWidth","dropdownBtn","document","querySelector","dropdownMenu","header","btn","menu","close","this","classList","remove","open","add","toggle","contains","setup","self","handleClick","e","preventDefault","stopPropagation","handleMenuLeave","handleBtnLeave","setTimeout","matches","handleOutsideClick","target","closest","removeEventListener","addEventListener","error","handleResize","clearTimeout","readyState"],"mappings":"CAKA,KAGE,IAAMA,EAAmC,cAA7BC,OAAOC,SAASC,UAA4BF,OAAOC,SAASE,OAAOC,SAAS,OAAO,EACzFC,EAAqB,KAEvBC,EACAC,EAAmB,KAEvB,SAASC,EAAIC,GACPV,GAAKW,QAAQF,IAAI,SAAUC,CAAO,CACxC,CA0FA,SAASE,IACP,IAxFOX,OAAOY,WAAaP,GAiGzBE,GA7FIM,EAAcC,SAASC,cAAc,eAAe,EACpDC,EAAeF,SAASC,cAAc,gBAAgB,EACtDE,EAASH,SAASC,cAAc,cAAc,EAE/CF,GAAgBG,EAKd,CACLE,IAAKL,EACLM,KAAMH,EACNC,OAAQA,EAERG,MAAO,WACLC,KAAKF,KAAKG,UAAUC,OAAO,QAAQ,EACnCF,KAAKH,IAAII,UAAUC,OAAO,QAAQ,EAC9BF,KAAKJ,QACPI,KAAKJ,OAAOK,UAAUC,OAAO,eAAe,CAEhD,EAEAC,KAAM,WACJH,KAAKF,KAAKG,UAAUG,IAAI,QAAQ,EAChCJ,KAAKH,IAAII,UAAUG,IAAI,QAAQ,EAC3BJ,KAAKJ,QACPI,KAAKJ,OAAOK,UAAUG,IAAI,eAAe,CAE7C,EAEAC,OAAQ,WACFL,KAAKF,KAAKG,UAAUK,SAAS,QAAQ,EACvCN,KAAKD,MAAM,EAEXC,KAAKG,KAAK,CAEd,EAEAI,MAAO,WACL,IAAMC,EAAOR,KAGb,SAASS,EAAYC,GACnBA,EAAEC,eAAe,EACjBD,EAAEE,gBAAgB,EAClBJ,EAAKH,OAAO,CACd,CAGA,SAASQ,IACPL,EAAKT,MAAM,CACb,CAEA,SAASe,IACPC,WAAW,KACJP,EAAKV,KAAKkB,QAAQ,QAAQ,GAC7BR,EAAKT,MAAM,CAEf,EAAG,GAAG,CACR,CAGA,SAASkB,EAAmBP,GACrBA,EAAEQ,OAAOC,QAAQ,eAAe,GAAMT,EAAEQ,OAAOC,QAAQ,gBAAgB,GAC1EX,EAAKT,MAAM,CAEf,CAGAC,KAAKH,IAAIuB,oBAAoB,QAASX,CAAW,EACjDT,KAAKF,KAAKsB,oBAAoB,aAAcP,CAAe,EAC3Db,KAAKH,IAAIuB,oBAAoB,aAAcN,CAAc,EACzDrB,SAAS2B,oBAAoB,QAASH,CAAkB,EAGxDjB,KAAKH,IAAIwB,iBAAiB,QAASZ,CAAW,EAC9CT,KAAKF,KAAKuB,iBAAiB,aAAcR,CAAe,EACxDb,KAAKH,IAAIwB,iBAAiB,aAAcP,CAAc,EACtDrB,SAAS4B,iBAAiB,QAASJ,CAAkB,CACvD,CACF,GA3EE9B,EAAI,+CAA+C,EAC5C,UAyFLD,EAAiBqB,MAAM,EACvBpB,EAAI,+BAA+B,GAV/BD,IACFA,EAAiBa,MAAM,EACvBb,EAAmB,KAYzB,CAFE,MAAOoC,GACH5C,GAAKW,QAAQiC,MAAM,wCAAyCA,CAAK,CACvE,CArGF,IACQ9B,EACAG,EACAC,CAmGR,CAGA,SAAS2B,IACPC,aAAavC,CAAa,EAC1BA,EAAgB8B,WAAWzB,EAAqB,GAAG,CACrD,CAI8B,YAAxBG,SAASgC,WACXhC,SAAS4B,iBAAiB,mBAAoB/B,CAAmB,EAEjEA,EAAoB,EAGtBX,OAAO0C,iBAAiB,SAAUE,CAAY,CAKjD,GAAE"}
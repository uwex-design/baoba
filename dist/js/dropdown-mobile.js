(()=>{let i="localhost"===window.location.hostname||window.location.search.includes("debug"),e=1024,t,n=null,s=null,o={triggerClass:".btn-dropdown",submenuId:"mega-menu",headerSelector:".header-main",menuToggleSelector:".menu-hamburger",activeClass:"w--open",headerActiveClass:"mobile-menu-active"};function r(e){i&&console.log("Baoba Mobile:",e)}function a(){return window.innerWidth<=e}function c(){s&&(s.cleanup(),s=null)}function l(){try{if(a()){let t=document.querySelector(o.headerSelector),i=document.querySelector(o.menuToggleSelector);t&&i?(n&&n.disconnect(),(n=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"class"===e.attributeName&&(e=i.classList.contains(o.activeClass),t.classList.toggle(o.headerActiveClass,e))})})).observe(i,{attributes:!0,attributeFilter:["class"]}),t.classList.toggle(o.headerActiveClass,i.classList.contains(o.activeClass)),r("Header observer configurado")):r("Elementos do header mobile não encontrados")}else n&&(n.disconnect(),n=null)}catch(e){i&&console.error("Erro ao configurar header observer:",e)}}function u(){try{a()?(c(),(s=(e=document.querySelector(`li:has(${o.triggerClass})`),t=document.querySelector(`#${o.submenuId} .dropdown-menu-list`),e&&t?{triggerLi:e,submenu:t,open:function(){this.submenu.style.cssText="",this.submenu.setAttribute("aria-hidden","false"),this.submenu.classList.add("active"),this.triggerLi.classList.add("active")},close:function(){this.submenu.style.cssText=`
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
          pointer-events: none !important;
        `,this.submenu.classList.remove("active"),this.submenu.setAttribute("aria-hidden","true"),this.triggerLi.classList.remove("active")},setup:function(){let t=this;function e(e){e.target.closest(".dropdown-menu-list a")||(e.preventDefault(),e.stopPropagation(),t.triggerLi.classList.contains("active")?t.close():t.open())}this.triggerLi.appendChild(this.submenu),this.submenu.querySelectorAll("a").forEach(e=>{e.addEventListener("click",e=>e.stopPropagation())}),this.triggerLi.removeEventListener("click",e),this.triggerLi.addEventListener("click",e)},cleanup:function(){var e=document.querySelector("#"+o.submenuId);e&&this.submenu.parentNode===this.triggerLi&&e.querySelector(".dropdown-menu-wrap").appendChild(this.submenu)}}:(r("Elementos do dropdown mobile não encontrados"),null)))&&(s.setup(),r("Dropdown mobile inicializado"))):c()}catch(e){i&&console.error("Erro ao inicializar dropdown mobile:",e)}var e,t}function d(e){a()&&s&&(e.target.closest(`li:has(${o.triggerClass})`)||s.close())}function m(){clearTimeout(t),t=setTimeout(()=>{c(),l(),u()},250)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{l(),u()}):setTimeout(()=>{l(),u()},100),window.addEventListener("resize",m),document.addEventListener("click",d)})();
//# sourceMappingURL=dropdown-mobile.js.map
